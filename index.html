<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í¬ë£¨ì¦ˆë§í¬ - í”„ë¦¬ë¯¸ì—„ í¬ë£¨ì¦ˆ ì—¬í–‰</title>
  <meta name="description" content="MSC, NCL í¬ë£¨ì¦ˆ ì „ë¬¸ - ì§€ì¤‘í•´, ì•Œë˜ìŠ¤ì¹´, ì¹´ë¦¬ë¸Œí•´, ì¼ë³¸ í¬ë£¨ì¦ˆ ì—¬í–‰ ìƒë‹´">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš¢</text></svg>">
</head>
<body>
  <div id="header"></div>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-overlay"></div>
    <div class="container hero-content">
      <span class="hero-badge">ğŸš¢ MSC Â· Norwegian Cruise Line</span>
      <h1>ë°”ë‹¤ ìœ„ì˜ íŠ¹ë³„í•œ ì—¬í–‰,<br>í¬ë£¨ì¦ˆë§í¬ì—ì„œ ì‹œì‘í•˜ì„¸ìš”</h1>
      <p class="hero-sub">ì§€ì¤‘í•´ì˜ ì„ì–‘ë¶€í„° ì•Œë˜ìŠ¤ì¹´ì˜ ë¹™í•˜ê¹Œì§€ â€” ì „ ì„¸ê³„ í¬ë£¨ì¦ˆë¥¼ í•œê³³ì—ì„œ</p>
    </div>
  </section>

  <!-- FILTER BAR -->
  <div class="container">
    <div class="filter-bar">
      <div class="filter-group">
        <label>ëª©ì ì§€</label>
        <select id="filterDest" onchange="updateDepartureOptions()">
          <option value="">ì „ì²´</option>
          <option value="korea">í•œêµ­/ì¼ë³¸</option>
          <option value="mediterranean">ì§€ì¤‘í•´</option>
          <option value="alaska">ì•Œë˜ìŠ¤ì¹´</option>
          <option value="caribbean">ì¹´ë¦¬ë¸Œí•´</option>
          <option value="northern-europe">ë¶ìœ ëŸ½</option>
          <option value="asia">ì•„ì‹œì•„/ì¤‘ë™</option>
          <option value="south-america">ë‚¨ë¯¸</option>
          <option value="oceania">ì˜¤ì„¸ì•„ë‹ˆì•„</option>
          <option value="hawaii">í•˜ì™€ì´</option>
        </select>
      </div>
      <div class="filter-group">
        <label>ì¶œë°œë„ì‹œ</label>
        <div class="multi-select" id="msPort" onclick="toggleMulti(this)">
          <div class="multi-select-display">ì „ì²´</div>
          <div class="multi-select-dropdown" id="msPortDropdown"></div>
        </div>
      </div>
      <div class="filter-group">
        <label>ì„ ì‚¬</label>
        <div class="multi-select" id="msOperator" onclick="toggleMulti(this)">
          <div class="multi-select-display">ì „ì²´</div>
          <div class="multi-select-dropdown">
            <div class="ms-option" data-value="MSC" onclick="toggleOption(event, this)">MSC í¬ë£¨ì¦ˆ</div>
            <div class="ms-option" data-value="Norwegian" onclick="toggleOption(event, this)">ë…¸ë¥´ì›¨ì´ì „ í¬ë£¨ì¦ˆ ë¼ì¸</div>
          </div>
        </div>
      </div>
      <div class="filter-group">
        <label>ì¶œë°œì›”</label>
        <select id="filterMonth">
          <option value="">ì „ì²´</option>
        </select>
      </div>
      <div class="filter-group">
        <label>ê¸°ê°„</label>
        <select id="filterDuration">
          <option value="">ì „ì²´</option>
          <option value="short">1~5ë°•</option>
          <option value="medium">6~10ë°•</option>
          <option value="long">11ë°• ì´ìƒ</option>
        </select>
      </div>
      <button class="btn btn-orange" onclick="doSearch()">ğŸ” ê²€ìƒ‰</button>
    </div>
  </div>

  <!-- PARTNER LOGOS -->
  <div class="container">
    <div style="font-size:12px;color:var(--gray-700);margin-top:24px;margin-bottom:4px;font-weight:600;letter-spacing:1px;">íŒŒíŠ¸ë„ˆ ì„ ì‚¬</div>
    <div class="logo-slider-wrap">
      <div class="logo-slider-track" id="logoTrack">
        <img src="assets/images/logos/royal-caribbean.svg" alt="Royal Caribbean">
        <img src="assets/images/logos/msc.png" alt="MSC Cruises">
        <img src="assets/images/logos/ncl.jpg" alt="Norwegian Cruise Line">
        <img src="assets/images/logos/celebrity.svg" alt="Celebrity Cruises">
        <img src="assets/images/logos/princess.svg" alt="Princess Cruises">
        <img src="assets/images/logos/carnival.svg" alt="Carnival Cruise Line">
        <img src="assets/images/logos/costa.svg" alt="Costa Cruises">
        <img src="assets/images/logos/disney.svg" alt="Disney Cruise Line">
        <img src="assets/images/logos/cunard.svg" alt="Cunard">
        <img src="assets/images/logos/silversea.svg" alt="Silversea Cruises">
        <img src="assets/images/logos/oceania.svg" alt="Oceania Cruises">
        <img src="assets/images/logos/regent.png" alt="Regent Seven Seas">
        <!-- Duplicate for infinite scroll -->
        <img src="assets/images/logos/royal-caribbean.svg" alt="Royal Caribbean">
        <img src="assets/images/logos/msc.png" alt="MSC Cruises">
        <img src="assets/images/logos/ncl.jpg" alt="Norwegian Cruise Line">
        <img src="assets/images/logos/celebrity.svg" alt="Celebrity Cruises">
        <img src="assets/images/logos/princess.svg" alt="Princess Cruises">
        <img src="assets/images/logos/carnival.svg" alt="Carnival Cruise Line">
        <img src="assets/images/logos/costa.svg" alt="Costa Cruises">
        <img src="assets/images/logos/disney.svg" alt="Disney Cruise Line">
        <img src="assets/images/logos/cunard.svg" alt="Cunard">
        <img src="assets/images/logos/silversea.svg" alt="Silversea Cruises">
        <img src="assets/images/logos/oceania.svg" alt="Oceania Cruises">
        <img src="assets/images/logos/regent.png" alt="Regent Seven Seas">
      </div>
    </div>
  </div>

  <!-- DESTINATIONS -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">ì¸ê¸° ëª©ì ì§€</h2>
      <p class="section-subtitle">ì „ ì„¸ê³„ í¬ë£¨ì¦ˆ ëª©ì ì§€ë¥¼ íƒí—˜í•˜ì„¸ìš”</p>
      <div class="dest-slider-wrap">
        <button class="dest-arrow dest-arrow-left" onclick="slideDest(-1)">â€¹</button>
        <div class="dest-slider" id="destSlider">
          <div class="dest-track" id="destTrack">
            <a href="destination.html?dest=korea" class="dest-card"><span class="emoji">ğŸ‡°ğŸ‡·</span><span class="name">í•œêµ­/ì¼ë³¸</span></a>
            <a href="destination.html?dest=mediterranean" class="dest-card"><span class="emoji">ğŸ›ï¸</span><span class="name">ì§€ì¤‘í•´</span></a>
            <a href="destination.html?dest=alaska" class="dest-card"><span class="emoji">ğŸ”ï¸</span><span class="name">ì•Œë˜ìŠ¤ì¹´</span></a>
            <a href="destination.html?dest=caribbean" class="dest-card"><span class="emoji">ğŸï¸</span><span class="name">ì¹´ë¦¬ë¸Œí•´</span></a>
            <a href="destination.html?dest=northern-europe" class="dest-card"><span class="emoji">âš“</span><span class="name">ë¶ìœ ëŸ½</span></a>
            <a href="destination.html?dest=asia" class="dest-card"><span class="emoji">ğŸ•Œ</span><span class="name">ì•„ì‹œì•„/ì¤‘ë™</span></a>
            <a href="destination.html?dest=south-america" class="dest-card"><span class="emoji">ğŸŒ</span><span class="name">ë‚¨ë¯¸</span></a>
            <a href="destination.html?dest=oceania" class="dest-card"><span class="emoji">ğŸ¦˜</span><span class="name">ì˜¤ì„¸ì•„ë‹ˆì•„</span></a>
            <a href="destination.html?dest=hawaii" class="dest-card"><span class="emoji">ğŸŒ´</span><span class="name">í•˜ì™€ì´</span></a>
          </div>
        </div>
        <button class="dest-arrow dest-arrow-right" onclick="slideDest(1)">â€º</button>
      </div>
    </div>
  </section>

  <!-- PROMO SLIDER -->
  <section class="section" style="background: var(--gray-50);">
    <div class="container">
      <div class="promo-slider">
        <div class="promo-slides" id="promoSlides">
          <div class="promo-slide" style="background: url('https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=1200&q=80') center/cover;">
            <h3>ğŸŒŠ 2026 ì§€ì¤‘í•´ í¬ë£¨ì¦ˆ</h3>
            <p>ë°”ë¥´ì…€ë¡œë‚˜, ë¡œë§ˆ, ì‚°í† ë¦¬ë‹ˆ... ì§€ì¤‘í•´ì˜ ë³´ì„ê°™ì€ ë„ì‹œë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”</p>
            <a href="destination.html?dest=mediterranean" class="btn btn-orange" style="width:fit-content">ì§€ì¤‘í•´ í¬ë£¨ì¦ˆ ë³´ê¸° â†’</a>
          </div>
          <div class="promo-slide" style="background: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1200&q=80') center/cover;">
            <h3>â„ï¸ ì•Œë˜ìŠ¤ì¹´ ë¹™í•˜ í¬ë£¨ì¦ˆ</h3>
            <p>ì¥ì—„í•œ ë¹™í•˜ì™€ ì•¼ìƒ ë™ë¬¼, ëŒ€ìì—°ì˜ ê²½ì´ë¡œì›€ì„ ê²½í—˜í•˜ì„¸ìš”</p>
            <a href="destination.html?dest=alaska" class="btn btn-orange" style="width:fit-content">ì•Œë˜ìŠ¤ì¹´ í¬ë£¨ì¦ˆ ë³´ê¸° â†’</a>
          </div>
          <div class="promo-slide" style="background: url('https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=1200&q=80') center/cover;">
            <h3>ğŸŒ í•œêµ­/ì¼ë³¸ ì¶œë°œ í¬ë£¨ì¦ˆ</h3>
            <p>ë¶€ì‚°, í›„ì¿ ì˜¤ì¹´, ë‚˜ê°€ì‚¬í‚¤, ì˜¤í‚¤ë‚˜ì™€ â€” ê°€ê¹Œìš´ í¬ë£¨ì¦ˆ ì—¬í–‰</p>
            <a href="destination.html?dest=korea" class="btn btn-white" style="width:fit-content">ì•„ì‹œì•„ í¬ë£¨ì¦ˆ ë³´ê¸° â†’</a>
          </div>
        </div>
      </div>
      <div class="promo-dots" id="promoDots"></div>
    </div>
  </section>

  <!-- RECOMMENDED CRUISES -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">ì¶”ì²œ í¬ë£¨ì¦ˆ</h2>
      <p class="section-subtitle">ê°€ê¹Œìš´ ì¶œë°œì¼ ê¸°ì¤€ ì—„ì„ ëœ í¬ë£¨ì¦ˆ</p>
      <div id="recommendedCruises" class="cruise-grid">
        <div class="loading"><div class="loading-spinner"></div><p>í¬ë£¨ì¦ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p></div>
      </div>
    </div>
  </section>

  <div id="ctaSection"></div>
  <div id="footer"></div>

  <script src="assets/data/translations.js"></script>
  <script src="assets/js/api.js"></script>
  <script src="assets/js/components.js"></script>
  <script>
    document.getElementById('header').innerHTML = Components.header('home');
    document.getElementById('footer').innerHTML = Components.footer();
    document.getElementById('ctaSection').innerHTML = Components.ctaSection();

    // === Departure port mapping per destination ===
    const DEST_PORTS = {
      'korea': ['ë„ì¿„','ë‚˜í•˜, ì˜¤í‚¤ë‚˜ì™€','ë¶€ì‚°','ì¸ì²œ'],
      'mediterranean': ['ë°”ë¥´ì…€ë¡œë‚˜','ë§ˆë¥´ì„¸ìœ ','ì œë…¸ë°”','ì¹˜ë¹„íƒ€ë² í‚¤ì•„','ë‚˜í´ë¦¬','íŒ”ë ˆë¥´ëª¨','ë°œë ˆíƒ€','ë©”ì‹œë‚˜','ë¦¬ë³´ë¥´ë…¸','íŠ¸ë¦¬ì—ìŠ¤í…Œ','í”¼ë ˆìš°ìŠ¤','ì´ìŠ¤íƒ„ë¶ˆ','ë¦¬ìŠ¤ë³¸','ë§ë¼ê°€','ë°œë Œì‹œì•„'],
      'alaska': ['ì‹œì• í‹€','ë°´ì¿ ë²„'],
      'caribbean': ['ë§ˆì´ì• ë¯¸','í¬íŠ¸ ì¹´ë‚˜ë² ëŸ´','ê°¤ë²„ìŠ¤í„´','ë‰´ìš•','ë‰´ì˜¬ë¦¬ì–¸ìŠ¤','ì‚°í›„ì•ˆ','ì­ìŠ¨ë¹Œ','ë³´ìŠ¤í„´','íƒ¬íŒŒ'],
      'northern-europe': ['ì‚¬ìš°ìƒ˜í”„í„´','ì½”íœí•˜ê²','í‚¬','í—¬ì‹±í‚¤','ë ˆì´ìº¬ë¹„í¬','í•¨ë¶€ë¥´í¬'],
      'asia': ['ì•„ë¶€ë‹¤ë¹„','ë‘ë°”ì´','ë„í•˜','ì‹±ê°€í¬ë¥´'],
      'south-america': ['ì‚°íˆ¬ìŠ¤','ì‚´ë°”ë„ë¥´','ë¶€ì—ë…¸ìŠ¤ì•„ì´ë ˆìŠ¤','ë¦¬ìš°ë°ìë„¤ì´ë£¨','ë¡œìŠ¤ì•¤ì ¤ë ˆìŠ¤','ë§ˆì´ì• ë¯¸'],
      'oceania': ['ì‹œë“œë‹ˆ','ì˜¤í´ëœë“œ','ë©œë²„ë¥¸','ë¸Œë¦¬ì¦ˆë²ˆ'],
      'hawaii': ['í˜¸ë†€ë£°ë£¨, í•˜ì™€ì´'],
    };

    // === Multi-select functions ===
    function toggleMulti(el) {
      // Close other open multi-selects
      document.querySelectorAll('.multi-select.open').forEach(ms => { if (ms !== el) ms.classList.remove('open'); });
      el.classList.toggle('open');
    }
    function toggleOption(e, optEl) {
      e.stopPropagation();
      optEl.classList.toggle('selected');
      updateMultiDisplay(optEl.closest('.multi-select'));
    }
    function updateMultiDisplay(msEl) {
      const selected = [...msEl.querySelectorAll('.ms-option.selected')];
      const display = msEl.querySelector('.multi-select-display');
      display.textContent = selected.length === 0 ? 'ì „ì²´' : selected.map(o => o.textContent).join(', ');
    }
    function getMultiValues(msEl) {
      return [...msEl.querySelectorAll('.ms-option.selected')].map(o => o.dataset.value);
    }
    // Close multi-select on outside click
    document.addEventListener('click', e => {
      if (!e.target.closest('.multi-select')) {
        document.querySelectorAll('.multi-select.open').forEach(ms => ms.classList.remove('open'));
      }
    });

    function updateDepartureOptions() {
      const dest = document.getElementById('filterDest').value;
      const dropdown = document.getElementById('msPortDropdown');
      const msPort = document.getElementById('msPort');
      // Reset
      dropdown.innerHTML = '';
      msPort.querySelector('.multi-select-display').textContent = 'ì „ì²´';
      if (!dest || !DEST_PORTS[dest]) return;
      DEST_PORTS[dest].forEach(port => {
        dropdown.innerHTML += `<div class="ms-option" data-value="${port}" onclick="toggleOption(event, this)">${port}</div>`;
      });
    }

    // Populate month filter
    const monthSelect = document.getElementById('filterMonth');
    const now = new Date();
    for (let i = 0; i < 24; i++) {
      const d = new Date(now.getFullYear(), now.getMonth() + i, 1);
      const val = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;
      const label = `${d.getFullYear()}ë…„ ${d.getMonth() + 1}ì›”`;
      monthSelect.innerHTML += `<option value="${val}">${label}</option>`;
    }

    // Promo slider
    let promoIdx = 0;
    const slides = document.getElementById('promoSlides');
    const dotsContainer = document.getElementById('promoDots');
    for (let i = 0; i < 3; i++) {
      const dot = document.createElement('button');
      dot.className = 'promo-dot' + (i === 0 ? ' active' : '');
      dot.onclick = () => { promoIdx = i; updatePromo(); };
      dotsContainer.appendChild(dot);
    }
    function updatePromo() {
      slides.style.transform = `translateX(-${promoIdx * 100}%)`;
      dotsContainer.querySelectorAll('.promo-dot').forEach((d, i) => d.classList.toggle('active', i === promoIdx));
    }
    setInterval(() => { promoIdx = (promoIdx + 1) % 3; updatePromo(); }, 5000);

    // Load recommended cruises from LOCAL JSON
    async function loadRecommended() {
      const container = document.getElementById('recommendedCruises');
      try {
        const cruises = await API.getRecommendedCruises(9);
        if (cruises.length === 0) {
          container.innerHTML = '<div class="empty-state"><span class="emoji">ğŸ”</span><p>í‘œì‹œí•  í¬ë£¨ì¦ˆê°€ ì—†ìŠµë‹ˆë‹¤</p></div>';
          return;
        }
        container.innerHTML = cruises.map(c => Components.localCruiseCard(c)).join('');
      } catch (e) {
        console.error(e);
        container.innerHTML = '<div class="empty-state"><span class="emoji">âš ï¸</span><p>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</p></div>';
      }
    }

    // Search from LOCAL JSON
    function doSearch() {
      const dest = document.getElementById('filterDest').value;
      const operators = getMultiValues(document.getElementById('msOperator'));
      const ports = getMultiValues(document.getElementById('msPort'));
      const month = document.getElementById('filterMonth').value;
      const dur = document.getElementById('filterDuration').value;
      const params = new URLSearchParams();
      if (dest) params.set('dest', dest);
      if (operators.length) params.set('operators', operators.join(','));
      if (ports.length) params.set('ports', ports.join(','));
      if (month) params.set('month', month);
      if (dur) params.set('duration', dur);
      location.href = `search.html?${params.toString()}`;
    }

    // === Destination slider ===
    let destPos = 0;
    const destTrack = document.getElementById('destTrack');
    const destSlider = document.getElementById('destSlider');
    function slideDest(dir) {
      const cards = destTrack.children;
      const cardW = cards[0].offsetWidth + 16; // gap
      const visible = Math.floor(destSlider.offsetWidth / cardW);
      const maxPos = cards.length - visible;
      destPos = Math.max(0, Math.min(maxPos, destPos + dir));
      destTrack.style.transform = `translateX(-${destPos * cardW}px)`;
    }
    // Drag to scroll
    let isDrag = false, startX = 0, startScroll = 0, dragDist = 0;
    destSlider.addEventListener('mousedown', e => {
      isDrag = true; startX = e.pageX; dragDist = 0;
      startScroll = destPos * (destTrack.children[0].offsetWidth + 16);
      destTrack.style.transition = 'none';
    });
    document.addEventListener('mousemove', e => {
      if (!isDrag) return;
      const dx = e.pageX - startX;
      dragDist = Math.abs(dx);
      destTrack.style.transform = `translateX(${-(startScroll - dx)}px)`;
    });
    document.addEventListener('mouseup', () => {
      if (!isDrag) return;
      isDrag = false;
      destTrack.style.transition = 'transform 0.4s ease';
      const cardW = destTrack.children[0].offsetWidth + 16;
      const raw = parseFloat(destTrack.style.transform.replace(/[^0-9.-]/g,'')) || 0;
      const visible = Math.floor(destSlider.offsetWidth / cardW);
      const maxPos = destTrack.children.length - visible;
      destPos = Math.max(0, Math.min(maxPos, Math.round(-raw / cardW)));
      destTrack.style.transform = `translateX(-${destPos * cardW}px)`;
    });
    // Prevent click on drag
    destSlider.addEventListener('click', e => { if (dragDist > 5) e.preventDefault(); }, true);
    // Touch support
    destSlider.addEventListener('touchstart', e => {
      isDrag = true; startX = e.touches[0].pageX; dragDist = 0;
      startScroll = destPos * (destTrack.children[0].offsetWidth + 16);
      destTrack.style.transition = 'none';
    }, {passive: true});
    destSlider.addEventListener('touchmove', e => {
      if (!isDrag) return;
      const dx = e.touches[0].pageX - startX;
      dragDist = Math.abs(dx);
      destTrack.style.transform = `translateX(${-(startScroll - dx)}px)`;
    }, {passive: true});
    destSlider.addEventListener('touchend', () => {
      if (!isDrag) return;
      isDrag = false;
      destTrack.style.transition = 'transform 0.4s ease';
      const cardW = destTrack.children[0].offsetWidth + 16;
      const visible = Math.floor(destSlider.offsetWidth / cardW);
      const maxPos = destTrack.children.length - visible;
      const raw = parseFloat(destTrack.style.transform.replace(/[^0-9.-]/g,'')) || 0;
      destPos = Math.max(0, Math.min(maxPos, Math.round(-raw / cardW)));
      destTrack.style.transform = `translateX(-${destPos * cardW}px)`;
    });

    loadRecommended();

    /* â”€â”€ Inquiry Modal handled by shared script below â”€â”€ */
  <script>
    function openInquiryWith(title, operator, ship, dateFrom, nights, price, ref, currency) {
      document.getElementById('modalProductName').textContent = title;
      document.getElementById('modalProductDetail').innerHTML =
        `${operator} Â· ${ship}<br>ì¶œë°œ: ${dateFrom} / ${nights}ë°•${price ? (currency==='EUR'?' / â‚¬':' / $')+price+'~' : ''}`;
      document.getElementById('f_product').value = title;
      document.getElementById('f_cruiseline').value = operator;
      document.getElementById('f_ship').value = ship;
      document.getElementById('f_date').value = dateFrom;
      document.getElementById('f_ports').value = '';
      document.getElementById('f_price').value = price ? (currency==='EUR'?'â‚¬':'$')+price+'~' : 'ë¬¸ì˜';
      document.getElementById('f_ref').value = ref;
      document.getElementById('inquiryModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    function openInquiry() {
      document.getElementById('modalProductName').textContent = '';
      document.getElementById('modalProductDetail').innerHTML = '';
      document.getElementById('f_product').value = '';
      document.getElementById('f_cruiseline').value = '';
      document.getElementById('f_ship').value = '';
      document.getElementById('f_date').value = '';
      document.getElementById('f_ports').value = '';
      document.getElementById('f_price').value = '';
      document.getElementById('f_ref').value = '';
      document.getElementById('inquiryModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    function closeInquiry() {
      document.getElementById('inquiryModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    document.addEventListener('click', e => { if (e.target.id === 'inquiryModal') closeInquiry(); });
    function submitInquiry(e) {
      e.preventDefault();
      const btn = document.getElementById('submitBtn');
      btn.disabled = true; btn.textContent = 'ì „ì†¡ ì¤‘...';
      const fd = {
        _subject: `[í¬ë£¨ì¦ˆë§í¬] ${document.getElementById('f_product').value} - ${document.getElementById('f_name').value}ë‹˜`,
        _template: 'table',
        'í¬ë£¨ì¦ˆ ìƒí’ˆ': document.getElementById('f_product').value,
        'ì„ ì‚¬': document.getElementById('f_cruiseline').value,
        'ì„ ë°•': document.getElementById('f_ship').value,
        'ì¶œë°œì¼': document.getElementById('f_date').value,
        'ì°¸ê³ ê°€ê²©': document.getElementById('f_price').value,
        'Ref': document.getElementById('f_ref').value,
        'ê³ ê° ì´ë¦„': document.getElementById('f_name').value,
        'ê³ ê° ì´ë©”ì¼': document.getElementById('f_email').value,
        'ê³ ê° ì—°ë½ì²˜': document.getElementById('f_phone').value,
        'ì¸ì›': document.getElementById('f_pax').value,
        'í¬ë§ ê°ì‹¤': document.getElementById('f_cabin').value,
        'ìš”ì²­ì‚¬í•­': document.getElementById('f_message').value || 'ì—†ìŒ',
      };
      const data = new FormData();
      Object.entries(fd).forEach(([k,v]) => data.append(k,v));
      fetch('https://formsubmit.co/ajax/info@cruiselink.co.kr', { method:'POST', body:data })
      .then(() => {
        document.getElementById('formStatus').innerHTML = '<div style="background:#e8f5e9;padding:12px;border-radius:8px;color:#2e7d32;font-size:0.9rem">âœ… ë¬¸ì˜ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.<br>ì…ë ¥í•˜ì‹  ì´ë©”ì¼ë¡œ ê²¬ì ì„œë¥¼ íšŒì‹ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</div>';
        document.getElementById('inquiryForm').style.display = 'none'; btn.style.display = 'none';
      }).catch(() => {
        document.getElementById('formStatus').innerHTML = '<div style="background:#e8f5e9;padding:12px;border-radius:8px;color:#2e7d32;font-size:0.9rem">âœ… ë¬¸ì˜ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.<br>ì…ë ¥í•˜ì‹  ì´ë©”ì¼ë¡œ ê²¬ì ì„œë¥¼ íšŒì‹ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</div>';
        document.getElementById('inquiryForm').style.display = 'none'; btn.style.display = 'none';
      });
    }
  </script>
  <div class="modal-overlay" id="inquiryModal">
    <div class="modal" style="max-width:460px">
      <div class="modal-header" style="padding:14px 20px">
        <h2 style="font-size:1.05rem">ğŸš¢ í¬ë£¨ì¦ˆ ë¬¸ì˜í•˜ê¸°</h2>
        <button class="modal-close" onclick="closeInquiry()">&times;</button>
      </div>
      <div class="modal-body" style="padding:16px 20px">
        <div class="modal-product-info" style="padding:10px 12px;margin-bottom:12px;font-size:0.88rem;background:#f5f5f5;border-radius:8px">
          <strong id="modalProductName"></strong><br>
          <span id="modalProductDetail" style="color:#666"></span>
        </div>
        <div class="form-status" id="formStatus"></div>
        <form id="inquiryForm" onsubmit="submitInquiry(event)">
          <input type="hidden" id="f_product" name="product_name">
          <input type="hidden" id="f_cruiseline" name="cruise_line">
          <input type="hidden" id="f_ship" name="ship">
          <input type="hidden" id="f_date" name="departure_date">
          <input type="hidden" id="f_ports" name="ports">
          <input type="hidden" id="f_price" name="price">
          <input type="hidden" id="f_ref" name="cruise_ref">
          <input type="text" name="_honey" style="display:none">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
            <div class="form-group" style="margin-bottom:8px">
              <label style="font-size:0.8rem;margin-bottom:3px">ì´ë¦„ <span class="req">*</span></label>
              <input type="text" id="f_name" name="customer_name" required placeholder="í™ê¸¸ë™" style="padding:8px 10px;font-size:0.9rem">
            </div>
            <div class="form-group" style="margin-bottom:8px">
              <label style="font-size:0.8rem;margin-bottom:3px">ì—°ë½ì²˜ <span class="req">*</span></label>
              <input type="tel" id="f_phone" name="customer_phone" required placeholder="010-1234-5678" style="padding:8px 10px;font-size:0.9rem">
            </div>
          </div>
          <div class="form-group" style="margin-bottom:8px">
            <label style="font-size:0.8rem;margin-bottom:3px">ì´ë©”ì¼ <span class="req">*</span></label>
            <input type="email" id="f_email" name="customer_email" required placeholder="example@email.com" style="padding:8px 10px;font-size:0.9rem">
          </div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
            <div class="form-group" style="margin-bottom:8px">
              <label style="font-size:0.8rem;margin-bottom:3px">ì¸ì› <span class="req">*</span></label>
              <select id="f_pax" name="pax" required style="padding:8px 10px;font-size:0.9rem">
                <option value="">ì„ íƒ</option>
                <option value="1">1ëª…</option><option value="2">2ëª…</option><option value="3">3ëª…</option>
                <option value="4">4ëª…</option><option value="5">5ëª…</option><option value="6~10">6~10ëª…</option>
                <option value="11+">11ëª… ì´ìƒ</option>
              </select>
            </div>
            <div class="form-group" style="margin-bottom:8px">
              <label style="font-size:0.8rem;margin-bottom:3px">ê°ì‹¤ íƒ€ì… <span class="req">*</span></label>
              <select id="f_cabin" name="cabin_type" required style="padding:8px 10px;font-size:0.9rem">
                <option value="">ì„ íƒ</option>
                <option value="ë‚´ì¸¡">ë‚´ì¸¡</option>
                <option value="ì˜¤ì…˜ë·°">ì˜¤ì…˜ë·°</option>
                <option value="ë°œì½”ë‹ˆ">ë°œì½”ë‹ˆ</option>
                <option value="ìŠ¤ìœ„íŠ¸">ìŠ¤ìœ„íŠ¸</option>
              </select>
            </div>
          </div>
          <div class="form-group" style="margin-bottom:8px">
            <label style="font-size:0.8rem;margin-bottom:3px">ìš”ì²­ì‚¬í•­</label>
            <textarea id="f_message" name="message" rows="2" placeholder="ê¸°íƒ€ ìš”ì²­ì‚¬í•­" style="padding:8px 10px;font-size:0.9rem"></textarea>
          </div>
          <div class="privacy-section" style="margin-top:8px;padding-top:8px">
            <div class="privacy-check" style="margin-bottom:4px">
              <input type="checkbox" id="privacyAgree" required style="width:16px;height:16px">
              <label for="privacyAgree" style="font-size:0.8rem">ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤. (í•„ìˆ˜)</label>
            </div>
            <button type="button" class="privacy-toggle" style="font-size:0.78rem" onclick="document.getElementById('privacyDetail').classList.toggle('open')">ì•½ê´€ ë³´ê¸° â–¼</button>
            <div class="privacy-detail" id="privacyDetail">
              <strong>ìˆ˜ì§‘í•­ëª©:</strong> ì´ë¦„, ì´ë©”ì¼, ì—°ë½ì²˜<br>
              <strong>ìˆ˜ì§‘ëª©ì :</strong> í¬ë£¨ì¦ˆ ìƒë‹´ ë° ì˜ˆì•½ ì•ˆë‚´<br>
              <strong>ë³´ìœ ê¸°ê°„:</strong> ìƒë‹´ ì™„ë£Œ í›„ 1ë…„
            </div>
          </div>
          <button type="submit" class="btn btn-orange" id="submitBtn" style="width:100%;margin-top:10px;padding:12px;font-size:1rem">ë¬¸ì˜í•˜ê¸° ì „ì†¡</button>
        </form>
      </div>
    </div>
  </div>

</body>
</html>
