<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í¬ë£¨ì¦ˆë§í¬ - í”„ë¦¬ë¯¸ì—„ í¬ë£¨ì¦ˆ ì—¬í–‰</title>
  <meta name="description" content="MSC, NCL í¬ë£¨ì¦ˆ ì „ë¬¸ - ì§€ì¤‘í•´, ì•Œë˜ìŠ¤ì¹´, ì¹´ë¦¬ë¸Œí•´, ì¼ë³¸ í¬ë£¨ì¦ˆ ì—¬í–‰ ìƒë‹´">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš¢</text></svg>">
</head>
<body>
  <div id="header"></div>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-overlay"></div>
    <div class="container hero-content">
      <span class="hero-badge">ğŸš¢ MSC Â· Norwegian Cruise Line</span>
      <h1>ë°”ë‹¤ ìœ„ì˜ íŠ¹ë³„í•œ ì—¬í–‰,<br>í¬ë£¨ì¦ˆë§í¬ì—ì„œ ì‹œì‘í•˜ì„¸ìš”</h1>
      <p class="hero-sub">ì§€ì¤‘í•´ì˜ ì„ì–‘ë¶€í„° ì•Œë˜ìŠ¤ì¹´ì˜ ë¹™í•˜ê¹Œì§€ â€” ì „ ì„¸ê³„ í¬ë£¨ì¦ˆë¥¼ í•œê³³ì—ì„œ</p>
    </div>
  </section>

  <!-- FILTER BAR -->
  <div class="container">
    <div class="filter-bar">
      <div class="filter-group">
        <label>ëª©ì ì§€</label>
        <select id="filterDest">
          <option value="">ì „ì²´</option>
          <option value="korea">í•œêµ­/ì¼ë³¸</option>
          <option value="mediterranean">ì§€ì¤‘í•´</option>
          <option value="alaska">ì•Œë˜ìŠ¤ì¹´</option>
          <option value="caribbean">ì¹´ë¦¬ë¸Œí•´</option>
          <option value="northern-europe">ë¶ìœ ëŸ½</option>
          <option value="southeast-asia">ë™ë‚¨ì•„ì‹œì•„</option>
          <option value="hawaii">í•˜ì™€ì´</option>
        </select>
      </div>
      <div class="filter-group">
        <label>ì„ ì‚¬</label>
        <select id="filterOperator">
          <option value="">ì „ì²´</option>
          <option value="MSC">MSC Cruises</option>
          <option value="Norwegian">Norwegian Cruise Line</option>
        </select>
      </div>
      <div class="filter-group">
        <label>ì¶œë°œì›”</label>
        <select id="filterMonth">
          <option value="">ì „ì²´</option>
        </select>
      </div>
      <div class="filter-group">
        <label>ê¸°ê°„</label>
        <select id="filterDuration">
          <option value="">ì „ì²´</option>
          <option value="short">1~5ë°•</option>
          <option value="medium">6~10ë°•</option>
          <option value="long">11ë°• ì´ìƒ</option>
        </select>
      </div>
      <button class="btn btn-orange" onclick="doSearch()">ğŸ” ê²€ìƒ‰</button>
    </div>
  </div>

  <!-- DESTINATIONS -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">ì¸ê¸° ëª©ì ì§€</h2>
      <p class="section-subtitle">ì „ ì„¸ê³„ í¬ë£¨ì¦ˆ ëª©ì ì§€ë¥¼ íƒí—˜í•˜ì„¸ìš”</p>
      <div class="dest-grid">
        <a href="destination.html?dest=korea" class="dest-card"><span class="emoji">ğŸ‡°ğŸ‡·</span><span class="name">í•œêµ­/ì¼ë³¸</span></a>
        <a href="destination.html?dest=mediterranean" class="dest-card"><span class="emoji">ğŸ›ï¸</span><span class="name">ì§€ì¤‘í•´</span></a>
        <a href="destination.html?dest=alaska" class="dest-card"><span class="emoji">ğŸ”ï¸</span><span class="name">ì•Œë˜ìŠ¤ì¹´</span></a>
        <a href="destination.html?dest=caribbean" class="dest-card"><span class="emoji">ğŸï¸</span><span class="name">ì¹´ë¦¬ë¸Œí•´</span></a>
        <a href="destination.html?dest=northern-europe" class="dest-card"><span class="emoji">âš“</span><span class="name">ë¶ìœ ëŸ½</span></a>
        <a href="destination.html?dest=southeast-asia" class="dest-card"><span class="emoji">ğŸŒº</span><span class="name">ë™ë‚¨ì•„ì‹œì•„</span></a>
        <a href="destination.html?dest=japan" class="dest-card"><span class="emoji">ğŸ—¾</span><span class="name">ì¼ë³¸</span></a>
        <a href="destination.html?dest=hawaii" class="dest-card"><span class="emoji">ğŸŒ´</span><span class="name">í•˜ì™€ì´</span></a>
      </div>
    </div>
  </section>

  <!-- PROMO SLIDER -->
  <section class="section" style="background: var(--gray-50);">
    <div class="container">
      <div class="promo-slider">
        <div class="promo-slides" id="promoSlides">
          <div class="promo-slide" style="background: linear-gradient(135deg, rgba(26,35,126,0.75), rgba(40,53,147,0.8)), url('https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=1200&q=80') center/cover;">
            <h3>ğŸŒŠ 2026 ì§€ì¤‘í•´ í¬ë£¨ì¦ˆ</h3>
            <p>ë°”ë¥´ì…€ë¡œë‚˜, ë¡œë§ˆ, ì‚°í† ë¦¬ë‹ˆ... ì§€ì¤‘í•´ì˜ ë³´ì„ê°™ì€ ë„ì‹œë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”</p>
            <a href="destination.html?dest=mediterranean" class="btn btn-orange" style="width:fit-content">ì§€ì¤‘í•´ í¬ë£¨ì¦ˆ ë³´ê¸° â†’</a>
          </div>
          <div class="promo-slide" style="background: linear-gradient(135deg, rgba(13,71,161,0.7), rgba(21,101,192,0.75)), url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1200&q=80') center/cover;">
            <h3>â„ï¸ ì•Œë˜ìŠ¤ì¹´ ë¹™í•˜ í¬ë£¨ì¦ˆ</h3>
            <p>ì¥ì—„í•œ ë¹™í•˜ì™€ ì•¼ìƒ ë™ë¬¼, ëŒ€ìì—°ì˜ ê²½ì´ë¡œì›€ì„ ê²½í—˜í•˜ì„¸ìš”</p>
            <a href="destination.html?dest=alaska" class="btn btn-orange" style="width:fit-content">ì•Œë˜ìŠ¤ì¹´ í¬ë£¨ì¦ˆ ë³´ê¸° â†’</a>
          </div>
          <div class="promo-slide" style="background: linear-gradient(135deg, rgba(230,81,0,0.75), rgba(255,111,0,0.8)), url('https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=1200&q=80') center/cover;">
            <h3>ğŸŒ í•œêµ­/ì¼ë³¸ ì¶œë°œ í¬ë£¨ì¦ˆ</h3>
            <p>ë¶€ì‚°, í›„ì¿ ì˜¤ì¹´, ë‚˜ê°€ì‚¬í‚¤, ì˜¤í‚¤ë‚˜ì™€ â€” ê°€ê¹Œìš´ í¬ë£¨ì¦ˆ ì—¬í–‰</p>
            <a href="destination.html?dest=korea" class="btn btn-white" style="width:fit-content">ì•„ì‹œì•„ í¬ë£¨ì¦ˆ ë³´ê¸° â†’</a>
          </div>
        </div>
      </div>
      <div class="promo-dots" id="promoDots"></div>
    </div>
  </section>

  <!-- RECOMMENDED CRUISES -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">ì¶”ì²œ í¬ë£¨ì¦ˆ</h2>
      <p class="section-subtitle">ê°€ê¹Œìš´ ì¶œë°œì¼ ê¸°ì¤€ ì—„ì„ ëœ í¬ë£¨ì¦ˆ</p>
      <div id="recommendedCruises" class="cruise-grid">
        <div class="loading"><div class="loading-spinner"></div><p>í¬ë£¨ì¦ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p></div>
      </div>
    </div>
  </section>

  <!-- SEARCH RESULTS (hidden by default) -->
  <section class="section" id="searchResults" style="display:none; background: var(--gray-50);">
    <div class="container">
      <h2 class="section-title">ê²€ìƒ‰ ê²°ê³¼</h2>
      <p class="section-subtitle" id="searchCount"></p>
      <div id="searchList" class="cruise-list"></div>
    </div>
  </section>

  <div id="ctaSection"></div>
  <div id="footer"></div>

  <script src="assets/data/translations.js"></script>
  <script src="assets/js/api.js"></script>
  <script src="assets/js/components.js"></script>
  <script>
    document.getElementById('header').innerHTML = Components.header('home');
    document.getElementById('footer').innerHTML = Components.footer();
    document.getElementById('ctaSection').innerHTML = Components.ctaSection();

    // Populate month filter
    const monthSelect = document.getElementById('filterMonth');
    const now = new Date();
    for (let i = 0; i < 24; i++) {
      const d = new Date(now.getFullYear(), now.getMonth() + i, 1);
      const val = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;
      const label = `${d.getFullYear()}ë…„ ${d.getMonth() + 1}ì›”`;
      monthSelect.innerHTML += `<option value="${val}">${label}</option>`;
    }

    // Promo slider
    let promoIdx = 0;
    const slides = document.getElementById('promoSlides');
    const dotsContainer = document.getElementById('promoDots');
    for (let i = 0; i < 3; i++) {
      const dot = document.createElement('button');
      dot.className = 'promo-dot' + (i === 0 ? ' active' : '');
      dot.onclick = () => { promoIdx = i; updatePromo(); };
      dotsContainer.appendChild(dot);
    }
    function updatePromo() {
      slides.style.transform = `translateX(-${promoIdx * 100}%)`;
      dotsContainer.querySelectorAll('.promo-dot').forEach((d, i) => d.classList.toggle('active', i === promoIdx));
    }
    setInterval(() => { promoIdx = (promoIdx + 1) % 3; updatePromo(); }, 5000);

    // Load recommended cruises from LOCAL JSON
    async function loadRecommended() {
      const container = document.getElementById('recommendedCruises');
      try {
        const cruises = await API.getRecommendedCruises(9);
        if (cruises.length === 0) {
          container.innerHTML = '<div class="empty-state"><span class="emoji">ğŸ”</span><p>í‘œì‹œí•  í¬ë£¨ì¦ˆê°€ ì—†ìŠµë‹ˆë‹¤</p></div>';
          return;
        }
        container.innerHTML = cruises.map(c => Components.localCruiseCard(c)).join('');
      } catch (e) {
        console.error(e);
        container.innerHTML = '<div class="empty-state"><span class="emoji">âš ï¸</span><p>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</p></div>';
      }
    }

    // Search from LOCAL JSON
    async function doSearch() {
      const dest = document.getElementById('filterDest').value;
      const op = document.getElementById('filterOperator').value;
      const month = document.getElementById('filterMonth').value;
      const dur = document.getElementById('filterDuration').value;

      if (dest) {
        let url = `destination.html?dest=${dest}`;
        if (op) url += `&operator=${op}`;
        if (month) url += `&month=${month}`;
        if (dur) url += `&duration=${dur}`;
        location.href = url;
        return;
      }

      const resultsSection = document.getElementById('searchResults');
      const searchList = document.getElementById('searchList');
      const searchCount = document.getElementById('searchCount');
      resultsSection.style.display = 'block';
      searchList.innerHTML = Components.loading();

      try {
        const results = await API.filterCruises({ operator: op, month, duration: dur, limit: 50 });
        searchCount.textContent = `${results.length}ê°œì˜ í¬ë£¨ì¦ˆë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤`;
        searchList.innerHTML = results.length
          ? results.map(c => Components.localCruiseItem(c)).join('')
          : '<div class="empty-state"><span class="emoji">ğŸ”</span><p>ì¡°ê±´ì— ë§ëŠ” í¬ë£¨ì¦ˆê°€ ì—†ìŠµë‹ˆë‹¤</p></div>';
        resultsSection.scrollIntoView({ behavior: 'smooth' });
      } catch (e) {
        searchList.innerHTML = '<div class="empty-state"><span class="emoji">âš ï¸</span><p>ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</p></div>';
      }
    }

    loadRecommended();

    /* â”€â”€ Inquiry Modal â”€â”€ */
    function openInquiry() {
      document.getElementById('inquiryModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    function closeInquiry() {
      document.getElementById('inquiryModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    document.addEventListener('click', e => { if (e.target.id === 'inquiryModal') closeInquiry(); });
    function submitInquiry(e) {
      e.preventDefault();
      const btn = document.getElementById('submitBtn');
      btn.disabled = true; btn.textContent = 'ì „ì†¡ ì¤‘...';
      setTimeout(() => {
        document.getElementById('formStatus').innerHTML = '<div style="background:#e8f5e9;padding:16px;border-radius:8px;color:#2e7d32;margin-bottom:16px">âœ… ë¬¸ì˜ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</div>';
        document.getElementById('inquiryForm').style.display = 'none';
        btn.style.display = 'none';
      }, 800);
    }
  </script>

  <!-- Inquiry Modal -->
  <div class="modal-overlay" id="inquiryModal">
    <div class="modal">
      <div class="modal-header">
        <h2>ğŸš¢ í¬ë£¨ì¦ˆ ë¬¸ì˜í•˜ê¸°</h2>
        <button class="modal-close" onclick="closeInquiry()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-status" id="formStatus"></div>
        <form id="inquiryForm" onsubmit="submitInquiry(event)">
          <div class="form-group">
            <label>ì˜ë¬¸ ì´ë¦„ (ì—¬ê¶Œ ê¸°ì¬ëª…) <span class="req">*</span></label>
            <input type="text" id="f_name" name="customer_name" required placeholder="HONG GILDONG">
          </div>
          <div class="form-group">
            <label>ì´ë©”ì¼ <span class="req">*</span></label>
            <input type="email" id="f_email" name="customer_email" required placeholder="example@email.com">
          </div>
          <div class="form-group">
            <label>ì—°ë½ì²˜ <span class="req">*</span></label>
            <input type="tel" id="f_phone" name="customer_phone" required placeholder="010-1234-5678">
          </div>
          <div class="form-group">
            <label>ê´€ì‹¬ í¬ë£¨ì¦ˆ / ìš”ì²­ì‚¬í•­ <span class="req">*</span></label>
            <textarea id="f_message" name="message" rows="3" required placeholder="ê´€ì‹¬ ìˆëŠ” í¬ë£¨ì¦ˆë‚˜ ì—¬í–‰ ì¼ì •ì„ ì•Œë ¤ì£¼ì„¸ìš”."></textarea>
          </div>
          <div class="privacy-section">
            <div class="privacy-check">
              <input type="checkbox" id="privacyAgree" required>
              <label for="privacyAgree">ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤. (í•„ìˆ˜)</label>
            </div>
            <button type="button" class="privacy-toggle" onclick="document.getElementById('privacyDetail').classList.toggle('open')">ì•½ê´€ ë³´ê¸° â–¼</button>
            <div class="privacy-detail" id="privacyDetail">
              <strong>ìˆ˜ì§‘í•­ëª©:</strong> ì´ë¦„, ì´ë©”ì¼, ì—°ë½ì²˜<br>
              <strong>ìˆ˜ì§‘ëª©ì :</strong> í¬ë£¨ì¦ˆ ìƒë‹´ ë° ì˜ˆì•½ ì•ˆë‚´<br>
              <strong>ë³´ìœ ê¸°ê°„:</strong> ìƒë‹´ ì™„ë£Œ í›„ 1ë…„<br><br>
              ìœ„ ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ë™ì˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë©°, ë™ì˜í•˜ì§€ ì•Šì„ ê²½ìš° ë¬¸ì˜ ì ‘ìˆ˜ê°€ ë¶ˆê°€í•©ë‹ˆë‹¤.
            </div>
          </div>
          <button type="submit" class="btn btn-orange" id="submitBtn" style="width:100%;margin-top:16px;padding:14px;font-size:1.05rem">ë¬¸ì˜í•˜ê¸° ì „ì†¡</button>
        </form>
      </div>
    </div>
  </div>
</body>
</html>
